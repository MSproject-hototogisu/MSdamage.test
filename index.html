<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ダメージ計算ツール</title>
    <style>
        /* 全体のデザイン（ダークモード風） */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #202124;
            color: #e8eaed;
            display: flex;
            justify-content: center;
            padding: 20px;
            margin: 0;
        }

        .container {
            background-color: #2d2e31;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            max-width: 500px;
            width: 100%;
        }

        h1 {
            text-align: center;
            font-size: 1.5rem;
            margin-bottom: 24px;
            color: #8ab4f8;
        }

        /* 入力エリアのスタイル */
        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #9aa0a6;
        }

        input[type="number"], select {
            width: 100%;
            padding: 12px;
            font-size: 1.1rem;
            border-radius: 6px;
            border: 1px solid #5f6368;
            background-color: #3c4043;
            color: white;
            box-sizing: border-box; /* パディングを含めた幅にする */
        }

        /* トグルボタンのスタイル */
        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .toggle-btn {
            flex: 1;
            padding: 12px;
            font-size: 1rem;
            border: 2px solid #5f6368;
            background-color: #3c4043;
            color: #9aa0a6;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: bold;
        }

        /* ボタンがONの状態 */
        .toggle-btn.active {
            background-color: #8ab4f8; /* アクティブ時の色（青） */
            border-color: #8ab4f8;
            color: #202124;
        }

        .toggle-btn:hover {
            opacity: 0.9;
        }

        /* 結果表示エリア */
        .result-box {
            background-color: #171717;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-top: 24px;
            border: 1px solid #5f6368;
        }

        .result-label {
            display: block;
            font-size: 0.9rem;
            color: #9aa0a6;
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ff8a80; /* 結果を目立たせる色（赤系） */
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ダメージ計算機</h1>

    <div class="input-group">
        <label for="attack">攻撃力</label>
        <input type="number" id="attack" placeholder="数値を入力 (例: 1000)" oninput="calculate()">
    </div>

    <label>特殊補正 (クリックでON/OFF)</label>
    <div class="button-group">
        <button id="btnA" class="toggle-btn" onclick="toggleButton('btnA')">倍率A (x1.3)</button>
        <button id="btnB" class="toggle-btn" onclick="toggleButton('btnB')">倍率B (x3.0)</button>
    </div>

    <div class="input-group">
        <label for="selectC">倍率C (サイズ補正)</label>
        <select id="selectC" onchange="calculate()">
            <option value="1.5">S (x1.5)</option>
            <option value="2.0" selected>M (x2.0)</option>
            <option value="2.5">L (x2.5)</option>
            <option value="3.0">EL (x3.0)</option>
        </select>
    </div>

    <div class="result-box">
        <span class="result-label">最終ダメージ</span>
        <span id="result" class="result-value">0</span>
    </div>
</div>

<script>
    // 状態管理用変数
    let isActiveA = false; // 倍率Aの状態
    let isActiveB = false; // 倍率Bの状態

    // ボタンのON/OFFを切り替える関数
    function toggleButton(btnId) {
        const btn = document.getElementById(btnId);
        
        if (btnId === 'btnA') {
            isActiveA = !isActiveA;
            // クラス 'active' を付け外しして見た目を変える
            if (isActiveA) btn.classList.add('active');
            else btn.classList.remove('active');
        } else if (btnId === 'btnB') {
            isActiveB = !isActiveB;
            if (isActiveB) btn.classList.add('active');
            else btn.classList.remove('active');
        }

        // 切り替え後に再計算
        calculate();
    }

    // 計算を実行する関数
    function calculate() {
        // 1. 攻撃力の取得（数値がない場合は0）
        const attackInput = document.getElementById('attack').value;
        const attack = parseFloat(attackInput) || 0;

        // 2. 倍率Aの判定
        const multiplierA = isActiveA ? 1.3 : 1.0;

        // 3. 倍率Bの判定
        const multiplierB = isActiveB ? 3.0 : 1.0;

        // 4. 倍率C（プルダウン）の取得
        const selectC = document.getElementById('selectC');
        const multiplierC = parseFloat(selectC.value);

        // 5. 計算実行 (攻撃力 * A * B * C)
        const total = attack * multiplierA * multiplierB * multiplierC;

        // 6. 結果の表示（小数は切り捨てて整数にする場合 Math.floor を使用）
        // ※ゲームによって切り捨て、四捨五入が異なるため、ここでは整数に切り捨てています
        document.getElementById('result').innerText = Math.floor(total).toLocaleString(); 
    }
    
    // 初期表示時に一度計算
    calculate();
</script>

</body>
</html>
